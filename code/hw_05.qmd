---
title: "Homework 05"
author: "Adam Guerra"
format: html
editor: visual
date: 05/30/2023
html: 
  toc: TRUE
  toc-location: left
  code-fold: true
  theme: sandstone
execute: 
  message: false
  warning: false
---

```{r, include = FALSE, messgae = FALSE}
#load in packages
library(tidyverse)
library(car)
library(sqldf)
library(janitor)
library(ggthemes)
library(naniar)
library(performance)
library(broom)
library(ggeffects)
library(flextable)
library(naniar)
library(corrplot)
library(AICcmodavg)
library(GGally)
library(here)

#load in data
plant <- read_csv(here("data/sarracenia.csv")) |> 
        clean_names()

#subset desired columns
plant_clean <- plant |> 
               select(totmass, species, feedlevel, sla, 
                      chlorophyll, amass, num_lvs, num_phylls)
```

## Introduction

Sarracenia is a genus of carnivorous plants typically found on the eastern seaboard of the United States. Within our data there are ten different species.

## Methods

#### Protocols

"Two plants of each Sarracenia species were assigned to one of six feeding levels in a regression design ranging from 0 - 0.25g of finely ground wasps per feeding (for small species), 0 - 0.5g (for species of intermediate sizes), and 0 - 1.0g (for large species); N equals120 plants total. Aboveground size and Amass were measured prior to commencing treatments. Plants were fed once/week for 7 weeks." (Ellison).

#### Organization

The data is organized into columns that are characteristics, with each row being a an individual plant with its corresponding observations. There are 120 records and 32 variables in CSV format. 11 of the columns were calculated, while the other 21 were measurements.

#### Missing Data

```{r}
#visualize missing observations
gg_miss_var(plant_clean) +
  labs(title = "Missing Values in the Dataset") +
  theme_bw() +
  theme(plot.caption = element_text(hjust = 0),
        plot.caption.position = "plot")
```

###### Figure 1: There are a high number of mising values in the chlorophyll content and mass-based light-saturated photosyntehtic rate of youngest leaf columns. There are also quite a few values missing from the specific leaf area of the youngest fulley expanded leaf column.

If chlorophyll content is missing, the amass column likely cannot be calculated. This could be the reason that each of those columns have the same number of missing N/A. Although it could also be that those specific plants did not meet the requirements to take the measurement in other categories as well within the full data set.

#### Subset NAs

```{r}
#drop NAs
plant_sub <- plant_clean |> 
             drop_na(sla, chlorophyll, num_phylls, amass, num_lvs)
```

#### Correlation

```{r}
#calculate phearsons
plant_corr <- plant_sub |> 
              select(3:8) |> 
              cor(method = "pearson")

#visualize pearsons correlation 
corrplot(plant_corr, method = "ellipse", addCoef.col = "black")
```

###### Figure 2: This graph shows the correlations between the different variables that we are interested in using as predictors for total mass. For our data set the highest correlation is 0.32 and the lowest is 0. 

In this situation, I believe that it is safe to assume there is no colinearity between the variables. Although I will continue to monitor how the higher correlated variables affect different models as I run the regressions.

#### Relationships Between Variables

```{r, message = FALSE}
#create visualization of relationships
plant_sub |> 
  select(2:8) |> 
  ggpairs()
```

###### Figure 3: Shows figures of each variable plotted against one another to visualize relationships. Also contains correlation coefficients that are shown in figure 2.

Based on the results from figure 3, there do not appear to be any strong relationships between the possible predictor variables. There would be a clear positive or negative trend with points forming a line if there was strong correlation.

#### Create Null and Full Model

```{r}
#create null model

```

## Results
